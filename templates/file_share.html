<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>File Upload & Email</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .text-shadow {
      text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.7);
    }
  </style>
</head>
<body class="relative min-h-screen bg-cover bg-no-repeat bg-center flex items-center justify-center" style="background-image: url('../static/images/fileshare.jpeg');">

  <!-- Dark overlay -->
  <div class="absolute inset-0 bg-black bg-opacity-60 z-0"></div>
  <!-- Go to Dashboard Button -->
  <div class="absolute top-6 right-6 z-10">
    <a href="/dashboard" 
       class="bg-white/10 backdrop-blur-md border border-white/30 text-white font-semibold px-4 py-2 rounded-lg shadow hover:bg-white/20 transition duration-300">
      🏠 Go to Dashboard
    </a>
  </div>

  <!-- Content Card -->
  <div class="relative z-10 w-full max-w-lg bg-white/10 backdrop-blur-lg border border-white/30 rounded-2xl shadow-2xl p-8">
    <h2 class="text-3xl font-extrabold text-white text-center mb-6 text-shadow">📩 Send File via Email</h2>

    <!-- Flash Messages -->
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <ul class="bg-green-500/80 border-l-4 border-green-300 text-white p-3 mb-4 rounded-lg text-sm font-semibold">
          {% for message in messages %}
            <li>{{ message }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}

    <form action="/fileshare" method="post" enctype="multipart/form-data" class="space-y-4">
      <!-- File Upload -->
      <div>
        <label class="block text-white font-semibold mb-1">Select File</label>
        <input type="file" name="file" id="file" required 
               class="w-full px-4 py-2 rounded-lg bg-white/10 text-white placeholder-white border border-white/30 focus:outline-none focus:ring-2 focus:ring-blue-400">
      </div>

      <!-- Email Input -->
      <div>
        <label class="block text-white font-semibold mb-1">Recipient Email</label>
        <input type="email" name="email" id="email" required placeholder="Enter recipient email"
               class="w-full px-4 py-2 rounded-lg bg-white/10 text-white placeholder-white border border-white/30 focus:outline-none focus:ring-2 focus:ring-blue-400">
      </div>

      <!-- Message Input -->
      <div>
        <label class="block text-white font-semibold mb-1">Custom Message</label>
        <textarea name="message" id="message" required placeholder="Enter your message"
                  class="w-full px-4 py-2 rounded-lg bg-white/10 text-white placeholder-white border border-white/30 focus:outline-none focus:ring-2 focus:ring-blue-400 h-24"></textarea>
      </div>

      <!-- Submit Button -->
      <button type="submit"
              class="w-full bg-gradient-to-r from-green-500 to-blue-600 hover:from-green-600 hover:to-blue-700 text-white py-3 px-4 rounded-lg font-bold transition-all duration-300">
        🚀 Send File
      </button>
    </form>
  </div>
</body>
</html>
